version: '3.1'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- affirm
- book_appointment
- bot_challenge
- cancel_appointment
- deny
- goodbye
- greet
- request_names
- select_date
- select_department
- select_doctor
- select_time
- thank_you
entities:
- department
- date
- doctor
- time
forms:
  name_form:
    required_slots:
    - first_name
    - last_name
  preliminary_questions_form:
    required_slots:
    - gender
    - age
    - weight_risk
    - hypertension
    - smoker
    - recent_lesions
  appointment_form:
    required_slots:
    - date
    - time
    - doctor
    - department
slots:
  first_name:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
      conditions:
      - active_loop: name_form
        requested_slot: first_name
  last_name:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: name_form
        requested_slot: last_name
  gender:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: preliminary_questions_form
        requested_slot: gender
  age:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: preliminary_questions_form
        requested_slot: age
  weight_risk:
    type: bool
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: preliminary_questions_form
        requested_slot: weight_risk
  hypertension:
    type: bool
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: preliminary_questions_form
        requested_slot: hypertension
  smoker:
    type: bool
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: preliminary_questions_form
        requested_slot: smoker
  recent_lesions:
    type: bool
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
      - active_loop: preliminary_questions_form
        requested_slot: recent_lesions
  date:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: date
  time:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: time
  doctor:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: doctor
  department:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: department
responses:
  utter_greet:
  - text: Bună ziua! Cu ce vă pot ajuta?
  utter_you_are_welcome:
  - text: Cu mare drag!
  utter_did_that_help:
  - text: V-a ajutat această informație?
  utter_happy:
  - text: Super, vă pot ajuta cu altceva?
  utter_goodbye:
  - text: O zi bună
  utter_iamabot:
  - text: Sunt un chatbot construit cu Rasa.
  utter_ask_first_name:
  - text: Vă rog să introduceți prenumele
  utter_ask_last_name:
  - text: Prenumele dumneavoastră este {first_name}, care este numele?
  utter_submit:
  - text: Ok. Mulțumesc!
  utter_saved_name:
  - text: Numele dumneavoastră este {first_name} {last_name}!
  utter_ask_how_can_I_help:
  - text: Cu ce vă pot fi de folos?
  utter_ask_gender:
  - text: Care este sexul dumneavoastră?
  utter_ask_age:
  - text: Câți ani aveți?
  utter_ask_weight_risk:
  - text: Sunteți supraponderal(ă) sau obez(ă)?
  utter_ask_hypertension:
  - text: Aveți hipertensiune arterială?
  utter_ask_smoker:
  - text: Sunteți fumător?
  utter_ask_recent_lesions:
  - text: Ați suferit recent o leziune?
  utter_saved_preliminary_questions:
  - text: |
      Sunt corecte informațiile? 
      Sex - {gender},
      Vârsta - {age},
      Supraponderal/obez - {weight_risk},
      Hipertensiune - {hypertension},
      Fumator - {smoker},
      Leziuni - {recent_lesions}
  utter_ask_refferal:
  - text: Aveți bilet de trimitere?
  utter_ask_date:
  - text: În ce dată ați dori să vă programați?
  utter_ask_time:
  - text: La ce oră doriți să vă programați?
  utter_ask_doctor:
  - text: Ce doctor ați dori să vă consulte?
  utter_ask_department:
  - text: Care este specializarea medicală care vă interesează?
  utter_saved_appointment_form:
  - text: Sunteti programat pe data {date}, la ora {time}, la domnul/doamna {doctor} de la departamentul {department}.
actions:
- action_book_appointment
- action_cancel_appointment
- action_validate_appointment
- utter_ask_how_can_I_help
- utter_goodbye
- utter_greet
- utter_iamabot
- utter_saved_appointment_form
- utter_saved_name
- utter_submit
- utter_you_are_welcome
- validate_appointment_form
- validate_name_form
